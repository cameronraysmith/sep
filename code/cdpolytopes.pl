use application "polytope";

# my $ncpoints=new Matrix<Rational>([[1,-1,-1],
# 								 [1, 1,-1],
# 								 [1,-1, 1],
# 								 [1, 1, 1],
# 								 [1, 0, 0]]);

# first column is all ones due to polymake
# x1 x2 y1 y2 int(x1,y1) int(x1,y2) int(x2,y1) int(x2,y2)

# my $ncpoints=new Matrix<Rational>([[1,0,0,0,0,0,0,0,0],
# 								 [1,0,0,0,1,0,0,0,0],
# 								 [1,0,0,1,0,0,0,0,0],
# 								 [1,0,0,1,1,0,0,0,0],
# 								 [1,0,1,0,0,0,0,0,0],
# 								 [1,0,1,0,1,0,0,0,1],
# 								 [1,0,1,1,0,0,0,1,0],
# 								 [1,0,1,1,1,0,0,1,1],
# 								 [1,1,0,0,0,0,0,0,0],
# 								 [1,1,0,0,1,0,1,0,0],
# 								 [1,1,0,1,0,1,0,0,0],
# 								 [1,1,0,1,1,1,1,0,0],
# 								 [1,1,1,0,0,0,0,0,0],
# 								 [1,1,1,0,1,0,1,0,1],
# 								 [1,1,1,1,0,1,0,1,0],
# 								 [1,1,1,1,1,1,1,1,1]]);


# non-contextual polytope
my $ncpoints=new Matrix<Rational>([[1,-1,-1,-1,-1,-1,-1,-1,-1],
								 [1,-1,-1,-1,1,-1,-1,-1,-1],
								 [1,-1,-1,1,-1,-1,-1,-1,-1],
								 [1,-1,-1,1,1,-1,-1,-1,-1],
								 [1,-1, 1,-1,-1,-1,-1,-1,-1],
								 [1,-1, 1,-1,1,-1,-1,-1,1],
								 [1,-1, 1,1,-1,-1,-1,1,-1],
								 [1,-1, 1,1,1,-1,-1,1,1],
								 [1, 1,-1,-1,-1,-1,-1,-1,-1],
								 [1, 1,-1,-1,1,-1,1,-1,-1],
								 [1, 1,-1,1,-1,1,-1,-1,-1],
								 [1, 1,-1,1,1,1,1,-1,-1],
								 [1, 1, 1,-1,-1,-1,-1,-1,-1],
								 [1, 1, 1,-1,1,-1,1,-1,1],
								 [1, 1, 1,1,-1,1,-1,1,-1],
								 [1, 1, 1,1,1,1,1,1,1]]);

my $nc=new Polytope<Rational>(POINTS=>$ncpoints);

# no-disturbance polytope
my $ndpoints=new Matrix<Rational>([
								  [1, -1, -1, -1, -1, -1, -1, -1, -1], 
								  [1, -1, -1, -1, 1, -1, -1, -1, -1], 
								  [1, -1, -1, 1, -1, -1, -1, -1, -1], 
								  [1, -1, -1, 1, 1, -1, -1, -1, -1], 
								  [1, -1, 1, -1, -1, -1, -1, -1, -1], 
								  [1, -1, 1, -1, 1, -1, -1, -1, 1], 
								  [1, -1, 1, 1, -1, -1, -1, 1, -1], 
								  [1, -1, 1, 1, 1, -1, -1, 1, 1], 
								  [1, 1, -1, -1, -1, -1, -1, -1, -1], 
								  [1, 1, -1, -1, 1, -1, 1, -1, -1], 
								  [1, 1, -1, 1, -1, 1, -1, -1, -1], 
								  [1, 1, -1, 1, 1, 1, 1, -1, -1], 
								  [1, 1, 1, -1, -1, -1, -1, -1, -1], 
								  [1, 1, 1, -1, 1, -1, 1, -1, 1], 
								  [1, 1, 1, 1, -1, 1, -1, 1, -1], 
								  [1, 1, 1, 1, 1, 1, 1, 1, 1], 
  								  [1, 0, 0, 0, 0, 1, 1, 1,-1],
								  [1, 0, 0, 0, 0, 1, 1,-1, 1],
								  [1, 0, 0, 0, 0, 1,-1, 1, 1],
								  [1, 0, 0, 0, 0,-1, 1, 1, 1],
								  [1, 0, 0, 0, 0, 1,-1,-1,-1],
								  [1, 0, 0, 0, 0,-1, 1,-1,-1],
								  [1, 0, 0, 0, 0,-1,-1, 1,-1],
								  [1, 0, 0, 0, 0,-1,-1,-1, 1]
								  ]);

my $nd=new Polytope<Rational>(POINTS=>$ndpoints);



print "\nNon-contextual polytope\n";
print "------------------------------\n";

print "constraints: \n";
print_constraints($ncpoints);

print "vertices: \n";
print $nc->VERTICES; print "\n";

print "facets: \n";
print $nc->FACETS; print "\n";

print "vertices in facets: \n";
print $nc->VERTICES_IN_FACETS; print "\n\n";

print "dimension: \n";
print $nc->DIM; print "\n\n";

print "bounded?: \n";
print $nc->BOUNDED; print "\n\n";

print "volume: \n";
print $nc->VOLUME; print "\n";

print "\nNo-disturbance polytope\n";
print "------------------------------\n";

print "constraints: \n";
print_constraints($ndpoints);

print "vertices: \n";
print $nd->VERTICES; print "\n";

print "facets: \n";
print $nd->FACETS; print "\n";

print "vertices in facets: \n";
print $nd->VERTICES_IN_FACETS; print "\n\n";

print "dimension: \n";
print $nd->DIM; print "\n\n";

print "bounded?: \n";
print $nd->BOUNDED; print "\n\n";

print "volume: \n";
print $nd->VOLUME; print "\n";


# [[0,0,0,0,0,0,0,0],
#  [0,0,0,1,0,0,0,0],
#  [0,0,1,0,0,0,0,0],
#  [0,0,1,1,0,0,0,0],
#  [0,1,0,0,0,0,0,0],
#  [0,1,0,1,0,0,0,1],
#  [0,1,1,0,0,0,1,0],
#  [0,1,1,1,0,0,1,1],
#  [1,0,0,0,0,0,0,0],
#  [1,0,0,1,0,1,0,0],
#  [1,0,1,0,1,0,0,0],
#  [1,0,1,1,1,1,0,0],
#  [1,1,0,0,0,0,0,0],
#  [1,1,0,1,0,1,0,1],
#  [1,1,1,0,1,0,1,0],
#  [1,1,1,1,1,1,1,1]]

# 0 0 0 0 0 0 0 0
# 0 0 0 1 0 0 0 0
# 0 0 1 0 0 0 0 0
# 0 0 1 1 0 0 0 0
# 0 1 0 0 0 0 0 0
# 0 1 0 1 0 0 0 1
# 0 1 1 0 0 0 1 0
# 0 1 1 1 0 0 1 1
# 1 0 0 0 0 0 0 0
# 1 0 0 1 0 1 0 0
# 1 0 1 0 1 0 0 0
# 1 0 1 1 1 1 0 0
# 1 1 0 0 0 0 0 0
# 1 1 0 1 0 1 0 1
# 1 1 1 0 1 0 1 0
# 1 1 1 1 1 1 1 1